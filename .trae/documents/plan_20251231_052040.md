# 修复购物车图片无法正常显示的问题

## 问题分析
从截图和代码分析，购物车页面（cartList.jsp）中的图片无法正常显示，主要原因是图片路径设置错误：

1. **当前代码**：
   ```jsp
   <img src="../images/<%= item.getImage() %>" alt="<%= item.getProductName() %>" onerror="this.src='../images/default.jpg'">
   ```

2. **问题所在**：
   - 使用了相对路径 `../images/`，从 `/shopping/cartList` 页面访问时，会解析为 `/shopping/images/`
   - 但正确的图片路径应该是 `/images/`（去掉 `shopping` 前缀）
   - 其他页面（如 productList.jsp 和 productDetail.jsp）使用了正确的上下文路径方式

3. **对比其他页面**：
   ```jsp
   String imagePath = request.getContextPath() + "/images/";
   // 然后使用 <%= finalImagePath %> 作为 src
   ```

## 解决方案
修改 `cartList.jsp` 中的图片路径，使用上下文路径，确保图片能够正确加载：

1. 在 `<img>` 标签前添加上下文路径计算
2. 将相对路径替换为基于上下文路径的绝对路径
3. 确保 onerror 事件中的默认图片路径也使用正确的上下文路径

## 修复步骤
1. **打开 cartList.jsp 文件**
2. **添加上下文路径计算**：在第 47-48 行之间添加：
   ```jsp
   <% 
       String imagePath = request.getContextPath() + "/images/";
       String productImage = item.getImage();
       String finalImagePath;
       if (productImage != null && !productImage.isEmpty()) {
           finalImagePath = imagePath + productImage;
       } else {
           finalImagePath = imagePath + "default.jpg";
       }
   %>
   ```
3. **修改 img 标签**：将第 49 行的 `<img>` 标签修改为：
   ```jsp
   <img src="<%= finalImagePath %>" alt="<%= item.getProductName() %>" onerror="this.src='<%= request.getContextPath() %>/images/default.jpg'">
   ```

## 预期结果
- 购物车页面中的商品图片能够正常显示
- 默认图片也能正确加载
- 与其他页面的图片显示逻辑保持一致

## 验证方法
1. 启动 Tomcat 服务器
2. 访问 `http://localhost:8080/shopping/cartList`
3. 检查购物车中的商品图片是否正常显示
4. 验证默认图片是否能正确加载
# 修复损坏的Jar文件并重新编译打包项目

## 问题分析

项目中存在两个损坏的jar文件：
- `jsp-api-2.2.jar`：zip END header not found
- `servlet-api.jar`：zip END header not found

此外，这些jar文件是旧的Java EE版本，与项目使用的Jakarta EE 5.0不兼容。项目已经包含了`jakarta.servlet.jsp-api-3.0.0.jar`，但缺少对应的`jakarta.servlet-api.jar`。

## 修复步骤

1. **下载兼容的Jakarta Servlet API jar文件**
   - 项目使用Jakarta EE 5.0，需要下载对应的Servlet API 5.0版本
   - 下载链接：https://repo1.maven.org/maven2/jakarta/servlet/jakarta.servlet-api/5.0.0/jakarta.servlet-api-5.0.0.jar

2. **将jar文件添加到项目lib目录**
   - 删除现有的损坏jar文件（已完成）
   - 将下载的`jakarta.servlet-api-5.0.0.jar`复制到`WebContent/WEB-INF/lib`目录

3. **重新编译项目**
   - 使用`javac`命令编译所有Java源代码
   - 设置正确的类路径，包含所有Jakarta相关jar文件

4. **复制配置文件和资源**
   - 将`src`目录下的配置文件复制到`WebContent/WEB-INF/classes`目录

5. **打包成WAR文件**
   - 使用`jar`命令将`WebContent`目录打包成WAR文件

## 详细命令

1. **下载Jakarta Servlet API 5.0 jar文件**
   ```powershell
   Invoke-WebRequest -Uri https://repo1.maven.org/maven2/jakarta/servlet/jakarta.servlet-api/5.0.0/jakarta.servlet-api-5.0.0.jar -OutFile WebContent/WEB-INF/lib/jakarta.servlet-api-5.0.0.jar
   ```

2. **验证下载结果**
   ```powershell
   Get-Item WebContent/WEB-INF/lib/jakarta.servlet-api-5.0.0.jar
   ```

3. **编译Java源代码**
   ```powershell
   javac -d WebContent/WEB-INF/classes -cp "WebContent/WEB-INF/lib/*" src/com/shopping/**/*.java
   ```

4. **复制配置文件和资源**
   ```powershell
   Copy-Item -Path src/db.properties -Destination WebContent/WEB-INF/classes
   Copy-Item -Path src/mail.properties -Destination WebContent/WEB-INF/classes
   ```

5. **打包成WAR文件**
   ```powershell
   cd WebContent
   jar -cvf ..\shopping.war .
   cd ..
   ```

## 验证步骤

1. 检查下载的jar文件是否完整
2. 检查编译输出，确保没有编译错误
3. 检查`WebContent/WEB-INF/classes`目录，确保所有class文件都已生成
4. 检查WAR文件是否已生成，验证其内容结构
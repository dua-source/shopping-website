# 数据库脚本执行计划

## 问题分析
用户执行数据库脚本时遇到两个错误：
1. ERROR 1406：address字段数据太长
2. ERROR 1366：description字段字符串值不正确

原因是旧数据库没有被删除，导致修改后的表结构没有被正确应用，同时缺少会话字符集设置。

## 执行步骤

### 1. 确保MySQL服务正在运行
```bash
# 查看MySQL服务状态
Get-Service MySQL*

# 如果服务未运行，启动服务
net start MySQL80
```

### 2. 打开MySQL Command Line Client
- 在Windows搜索栏中输入"MySQL Command Line Client"
- 点击打开应用程序
- 输入MySQL root用户的密码

### 3. 执行修改后的脚本
在MySQL命令提示符中，执行以下命令：
```sql
SOURCE D:/Trae CN/网络应用开发大作业/shoppingdb.sql;
```

### 4. 验证执行结果
执行以下命令验证数据库创建和数据插入是否成功：
```sql
-- 查看所有表
SHOW TABLES;

-- 查看用户表数据
SELECT * FROM users;

-- 查看产品表数据
SELECT * FROM products;

-- 检查表结构
DESCRIBE users;
DESCRIBE products;
```

## 预期效果
- 成功删除旧数据库
- 成功创建新数据库和表结构
- 成功插入测试数据
- 没有出现之前的两个错误

## 关键修改说明
1. **添加了删除旧数据库的命令**：确保修改后的表结构能够被正确应用
2. **添加了会话字符集设置**：确保中文数据能够正确插入
3. **调整了字段长度**：address字段从200增加到500，description使用TEXT类型
4. **明确指定了表的字符集**：所有表都使用utf8mb4字符集

## 注意事项
- 确保使用修改后的shoppingdb.sql脚本
- 执行脚本时使用正确的文件路径
- 验证执行结果，确保数据正确插入

## 替代方案
如果仍然遇到问题，可以使用MySQL Workbench执行脚本：
1. 打开MySQL Workbench
2. 连接到本地数据库
3. 在SQL编辑器中粘贴脚本内容
4. 点击"Execute"按钮执行脚本

通过以上步骤，用户应该能够成功执行数据库脚本，解决之前遇到的错误。
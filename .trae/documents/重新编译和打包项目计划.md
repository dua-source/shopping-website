# 重新编译和打包项目计划

## 目标
重新编译项目的Java文件，并将最新的代码打包成WAR文件，确保所有修复和更新都包含在内。

## 执行步骤

### 1. 编译Java文件
- 按照依赖顺序编译项目的各个模块：
  - 先编译model层：OrderItem.java → 其他model类
  - 编译dao层
  - 编译util层
  - 编译service层
  - 编译controller层
- 使用javac命令，指定classpath包含WebContent/WEB-INF/lib下的所有JAR文件

### 2. 复制编译结果
- 将build目录下的所有class文件复制到WebContent/WEB-INF/classes目录
- 确保所有新编译的class文件都被正确复制

### 3. 重新打包WAR文件
- 使用jar命令将WebContent目录打包成WAR文件
- 输出WAR文件名为shopping.war
- 验证WAR文件的创建和内容

## 预期结果
- 成功编译所有Java文件，生成最新的class文件
- WebContent/WEB-INF/classes目录包含所有最新的class文件
- 生成新的shopping.war文件，包含所有修复和更新
- WAR文件可以正常部署到Tomcat服务器

## 执行命令
```powershell
# 编译Java文件
# 先编译OrderItem.java
javac -d build -cp "WebContent\WEB-INF\lib\*" src\com\shopping\model\OrderItem.java
# 编译其他model类
Get-ChildItem -Path src\com\shopping\model -Filter *.java -Recurse | Where-Object { $_.Name -ne "OrderItem.java" } | Select-Object -ExpandProperty FullName | ForEach-Object { javac -d build -cp "build;WebContent\WEB-INF\lib\*" $_ }
# 编译dao层
Get-ChildItem -Path src\com\shopping\dao -Filter *.java -Recurse | Select-Object -ExpandProperty FullName | ForEach-Object { javac -d build -cp "build;WebContent\WEB-INF\lib\*" $_ }
# 编译util层
Get-ChildItem -Path src\com\shopping\util -Filter *.java -Recurse | Select-Object -ExpandProperty FullName | ForEach-Object { javac -d build -cp "build;WebContent\WEB-INF\lib\*" $_ }
# 编译service层
Get-ChildItem -Path src\com\shopping\service -Filter *.java -Recurse | Select-Object -ExpandProperty FullName | ForEach-Object { javac -d build -cp "build;WebContent\WEB-INF\lib\*" $_ }
# 编译controller层
Get-ChildItem -Path src\com\shopping\controller -Filter *.java -Recurse | Select-Object -ExpandProperty FullName | ForEach-Object { javac -d build -cp "build;WebContent\WEB-INF\lib\*" $_ }

# 复制class文件到WebContent/WEB-INF/classes目录
Copy-Item -Path build\* -Destination WebContent\WEB-INF\classes -Recurse -Force

# 重新打包WAR文件
jar -cvf shopping.war -C WebContent .

# 验证WAR文件
jar -tf shopping.war | head -20
```
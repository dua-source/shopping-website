# 在线购物网站设计与实现计划

## 技术栈
- 前端：JSP + HTML + CSS + JavaScript
- 后端：Servlet
- 数据库：MySQL
- 服务器：Tomcat

## 项目结构
```
/src
  /com/shopping
    /controller   # Servlet控制器
    /dao          # 数据访问对象
    /model        # JavaBean模型
    /service      # 业务逻辑层
    /util         # 工具类
/WebContent
  /WEB-INF
    /lib          # 第三方库
    web.xml       # 配置文件
  /css           # 样式文件
  /js            # JavaScript文件
  /images        # 图片资源
  /jsp           # JSP页面
  index.jsp      # 首页
```

## 数据库设计

### 1. users表（用户表）
| 字段名 | 数据类型 | 描述 |
| --- | --- | --- |
| id | INT | 主键，自增 |
| username | VARCHAR(50) | 用户名 |
| password | VARCHAR(50) | 密码 |
| email | VARCHAR(100) | 邮箱 |
| phone | VARCHAR(20) | 电话 |
| address | VARCHAR(200) | 地址 |
| role | VARCHAR(20) | 角色（customer/admin） |

### 2. products表（产品表）
| 字段名 | 数据类型 | 描述 |
| --- | --- | --- |
| id | INT | 主键，自增 |
| name | VARCHAR(100) | 产品名称 |
| description | TEXT | 产品描述 |
| price | DECIMAL(10,2) | 价格 |
| stock | INT | 库存 |
| category | VARCHAR(50) | 分类 |
| image | VARCHAR(200) | 图片路径 |

### 3. orders表（订单表）
| 字段名 | 数据类型 | 描述 |
| --- | --- | --- |
| id | INT | 主键，自增 |
| user_id | INT | 外键，关联users表 |
| order_date | DATETIME | 下单时间 |
| total_amount | DECIMAL(10,2) | 总金额 |
| status | VARCHAR(20) | 状态（pending/payment/shipped/delivered） |
| shipping_address | VARCHAR(200) | 收货地址 |
| payment_method | VARCHAR(50) | 支付方式 |

### 4. order_items表（订单项表）
| 字段名 | 数据类型 | 描述 |
| --- | --- | --- |
| id | INT | 主键，自增 |
| order_id | INT | 外键，关联orders表 |
| product_id | INT | 外键，关联products表 |
| quantity | INT | 数量 |
| unit_price | DECIMAL(10,2) | 单价 |

### 5. shopping_cart表（购物车表）
| 字段名 | 数据类型 | 描述 |
| --- | --- | --- |
| id | INT | 主键，自增 |
| user_id | INT | 外键，关联users表 |
| product_id | INT | 外键，关联products表 |
| quantity | INT | 数量 |

## 主要功能模块

### 一、顾客模块
1. **注册、登录、注销**
   - 用户注册Servlet
   - 用户登录Servlet
   - 注销Servlet
   - 相应JSP页面

2. **产品列表展示与查询**
   - 产品列表Servlet
   - 产品查询Servlet
   - 产品详情Servlet
   - 相应JSP页面

3. **购物车管理**
   - 添加到购物车Servlet
   - 购物车列表Servlet
   - 更新购物车Servlet
   - 删除购物车项Servlet
   - 相应JSP页面

4. **订单生成与支付**
   - 订单生成Servlet
   - 支付Servlet
   - 订单确认JSP页面

5. **订单状态与历史查看**
   - 订单列表Servlet
   - 订单详情Servlet
   - 相应JSP页面

### 二、销售管理模块
1. **商品目录管理**
   - 商品列表Servlet（管理员）
   - 添加商品Servlet
   - 修改商品Servlet
   - 删除商品Servlet
   - 相应JSP页面

2. **订单管理**
   - 订单列表Servlet（管理员）
   - 更新订单状态Servlet
   - 相应JSP页面

3. **销售统计报表**
   - 销售统计Servlet
   - 相应JSP页面

## 实现步骤

1. **创建项目**
   - 使用Eclipse创建Dynamic Web Project
   - 配置项目结构和依赖

2. **数据库设计与创建**
   - 设计数据库表结构
   - 创建MySQL数据库和表

3. **实现JavaBean模型**
   - 创建User、Product、Order、OrderItem、ShoppingCart等JavaBean

4. **实现DAO层**
   - 创建数据库连接工具类
   - 实现各表的DAO接口和实现类

5. **实现Service层**
   - 实现业务逻辑

6. **实现Servlet控制器**
   - 实现各功能模块的Servlet

7. **实现JSP页面**
   - 创建各功能页面
   - 实现页面布局和样式

8. **测试与调试**
   - 本地测试各功能模块
   - 调试和修复问题

9. **部署到阿里云**
   - 配置阿里云ECS实例
   - 安装Java、Tomcat、MySQL
   - 部署项目
   - 配置域名和访问权限

## 部署方案

1. **阿里云ECS实例配置**
   - 选择合适的ECS实例规格
   - 安装CentOS 7操作系统
   - 配置安全组规则，开放80、8080、3306端口

2. **软件安装**
   - 安装Java JDK 8
   - 安装Tomcat 9
   - 安装MySQL 8

3. **数据库配置**
   - 创建数据库和用户
   - 导入数据库表结构
   - 配置远程访问权限

4. **Tomcat配置**
   - 配置server.xml
   - 配置web.xml
   - 部署项目

5. **域名配置（可选）**
   - 注册域名
   - 配置DNS解析
   - 配置Tomcat虚拟主机

## 预期成果
- 完整的在线购物网站，包含顾客和销售管理功能
- 部署在阿里云上的可访问网站
- 详细的README.md文档，包含学号、姓名、源代码说明
- 实验报告，包含网站地址、测试账户和口令

## 注意事项
- 确保代码结构清晰，遵循MVC设计模式
- 实现基本的输入验证和安全措施
- 确保网站在校园网内可访问
- 提供测试账户和口令用于验证功能
- 保留三个月的可访问期限
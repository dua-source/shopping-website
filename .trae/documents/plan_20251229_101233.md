# 修复跳转404错误方案

## 问题分析
1. 登录和产品列表可以正常显示
2. 部分跳转出现404错误
3. 发现的问题：
   - AdminProductListServlet.java中重定向URL没有使用上下文路径
   - AdminOrderListServlet.java中重定向URL没有使用上下文路径
   - 可能还有其他Servlet文件存在同样问题

## 修复步骤

### 1. 检查所有Servlet文件
- 找出所有使用`resp.sendRedirect()`方法的地方
- 检查是否使用了上下文路径

### 2. 修复重定向URL
- 为所有重定向URL添加`req.getContextPath()`前缀
- 确保所有跳转链接都能正确解析

### 3. 具体文件修复
- `AdminProductListServlet.java`
- `AdminOrderListServlet.java`
- `EditProductServlet.java`
- `DeleteProductServlet.java`
- `AddProductServlet.java`
- `SalesReportServlet.java`
- `UpdateOrderStatusServlet.java`
- 其他可能包含重定向的Servlet文件

### 4. 重新编译和部署
- 重新编译所有Java文件
- 重新打包WAR文件
- 清理Tomcat缓存
- 重新部署WAR文件

## 具体修改

### 1. 修复AdminProductListServlet.java
```java
// 将第28行改为
resp.sendRedirect(req.getContextPath() + "/login");
```

### 2. 修复AdminOrderListServlet.java
```java
// 将第28行改为
resp.sendRedirect(req.getContextPath() + "/login");
```

### 3. 检查并修复其他Servlet文件
- 逐一检查所有Servlet文件中的重定向语句
- 确保都使用了上下文路径

## 预期效果
- 所有跳转链接都能正常工作
- 不再出现404错误
- 网站功能完整可用

## 测试方法
1. 登录网站
2. 测试各种跳转链接
3. 检查管理员功能
4. 测试购物车和订单功能
5. 确保所有功能都能正常工作